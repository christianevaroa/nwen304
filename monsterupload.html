<!DOCTYPE html>
<html>
<head>
    <title>Page Title</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
<style>

  #monsterinput{
    
    width: 200px;
  display: block;
  margin-left: auto;
  margin-right: auto;
  }
</style>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
</head>
<body>
<!-- Start of first page -->
<div data-role="page" id="foo">

    <div data-role="header">
        <h1>Foo</h1>
    </div><!-- /header -->

    <div role="main" class="ui-content">
          <div id="monsterinput">
          <label for="latitude">Latitude</label>
          <input name="latitude" id="latitude" type = "number">
          <label for="longitude">longitude</label>
          <input name="longitude" id="longitude" type= "number">
          <label for="monstername">Monstername</label>
          <input name="monstername" id="monstername" type="text">
          <input type="submit" value="confirm monster" id="newmonsterbutton"/>
          </div>

        
    </div><!-- /content -->


</div><!-- /page -->

<script type="text/javascript">
$(document).bind('pageinit', function() {



  $.ajaxSetup ({
    cache: false
  });

  $( "#button1" ).bind( "click", function(event, ui) {
    var q = $("#text1").val();
    alert("Click "+q);
    var jsonUrl = "http://fathomless-crag-6103.herokuapp.com/quote/"+q;
    alert("Fetching result from "+jsonUrl);
    $.get(jsonUrl, function(data) {
      alert(data.author);
      $("#result").html("<p><b>"+data.author+" said "+data.text+"</b></p>")
    }, 'json');
  });

    $( "#newmonsterbutton" ).bind( "click", function(event, ui) {
      var name = $("#monstername").val();
      var latitude = $("#latitude").val();
      var longitude = $("#longitude").val();
    alert("new monster omg!\n" + name + " \n" + latitude + " \n" + longitude  );

    var jsonUrl = "http://pure-gorge-4988.herokuapp.com/location";
    var newQuote = { "author" : "foo", "text" : "some text" };
    var dataToUpload = { "lat" : latitude, "lon" : longitude, "monster"  : name      };


    $.post(jsonUrl, dataToUpload, function(data) {
      alert (" added " + data);
      //alert("Added quote number " + data.pos + " " + data.author + " " + data.text);
    }, 'json');
  });




  $( "#button2" ).bind( "click", function(event, ui) {
    alert("Posting a new quote");
    var jsonUrl = "http://fathomless-crag-6103.herokuapp.com/ ";
    var newQuote = { "author" : "foo", "text" : "some text" };
    $.post(jsonUrl,newQuote, function(data) {
      alert("Added quote number " + data.pos + " " + data.author + " " + data.text);
    }, 'json');
  });

});
</script>
</body>
</html>